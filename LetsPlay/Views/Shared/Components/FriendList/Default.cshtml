@using Microsoft.AspNetCore.Identity
@using LetsPlay.Models
@inject SignInManager<ApplicationUser> SignInManager

@model IEnumerable<ApplicationUser>

<div class="friends-box rounded">
    <h4 class="text-center text-white">Friends:</h4>
    <a href="#" class="toggleFriends closeNots">X</a>
    <table>
        <tbody>
            @foreach (var item in Model)
            {
                <tr>

                    <td>
                        <a href="/users/@item.GamerTag">@item.GamerTag</a>
                    </td>
                    <td>

                    <td>
                        <form asp-action="RemoveFriend" asp-controller="Friendships" method="post">
                            <input type="hidden" name="user1" value="@SignInManager.UserManager.GetUserName(User)" />
                            <input type="hidden" name="user2" value="@item.UserName" />
                            <button class="btn btn-danger" type="submit">Remove</button>
                        </form>
                    </td>
                </tr>

            }
        </tbody>
    </table>
</div>
